<%- include('partials/header.ejs'); -%>

    <div id="header">

    </div>

    <% for(let item of bookList){%>
        <div class="book-entry">


            <!--This p and button are displayed default-->
            <p id="title<%=item.id%>">
                <%= item.title %>
            </p>
            <button id="edit<%=item.id%>" class="edit" onclick="handler('<%=item.id%>')"><img class="icon"
                    src="/assets/icons/pencil-solid.svg" alt="pencil image"></button>


            <!--On click of edit button, this form takes place of above p and button via handler()-->
            <form class="edit" action="/edit" method="post">
                <input type="hidden" name="updatedItemId" value="<%= item.id %>">
                <input id="input<%=item.id%>" type="text" name="updatedItemTitle" value="<%= item.title %>"
                    autocomplete="off" autofocus="true" hidden="true" />
                <button id="done<%=item.id%>" class="edit" type="submit" hidden><img class="icon"
                        src="/assets/icons/check-solid.svg" alt="tick image"></button>
            </form>


            <form action="/delete" method="post">
                <input type="checkbox" onchange="this.form.submit()" name="deleteItemId" value="<%= item.id %>">
            </form>


        </div>

        <% } %>
            <script>
                function handler(id) {
                    document.getElementById("title" + id).setAttribute("hidden", true)
                    document.getElementById("edit" + id).setAttribute("hidden", true)
                    document.getElementById("done" + id).removeAttribute("hidden")
                    document.getElementById("input" + id).removeAttribute("hidden")
                }
            </script>
            <%- include('partials/footer.ejs'); -%>